@model ThoBayMau_ASM.Models.SanPham
@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";

}

<div class="container" style="width:50%;">
    <form method="post" asp-action="Create" enctype="multipart/form-data">
        <div class="card-body">

            <div class="mb-3 mt-3">
                <label asp-for="Ten" class="form-label">Tên</label>
                <input asp-for="Ten" class="form-control" id="exampleInputEmail1">
                <span asp-validation-for="Ten" class="text-danger"></span>
            </div>

            <div class="mb-3 mt-3">
                <label class="form-label">Hình ảnh</label>
                <div>
                    <img id="previewImage" src="#" class="img-thumbnail" alt="Product Image">
                </div>
                <input type="file" name="files" files class="form-control" multiple id="exampleInputFile" onchange="previewFile()">
                <span class="text-danger">@ViewBag.ktAnh</span>
            </div>

            <div class=" mb-3 mt-3">
                <label asp-for="Mota" class="form-label">Mô tả</label>
                <input asp-for="Mota" class="form-control" id="exampleInputEmail1">
                <span asp-validation-for="Mota" class="text-danger"></span>
            </div>

            <div class=" mb-3 mt-3">
                <label asp-for="TrangThai" class="form-label">Trạng thái</label>
                <select asp-for="TrangThai" class="form-control" asp-items="ViewBag.TrangThai"></select>
                <span asp-validation-for="TrangThai" class="text-danger"></span>
            </div>

            <div class=" mb-3 mt-3">
                <label asp-for="LoaiSPId" class="form-label">Mã loại sản phẩm</label>
                <select asp-for="LoaiSPId" class="form-control" asp-items="ViewBag.LoaiSPid"></select>
                <span asp-validation-for="LoaiSPId" class="text-danger"></span>
            </div>

            <div class=" mb-3 mt-3">
                <label class="form-label">Giá</label>
                <input name="gia" type="number" class="form-control" id="exampleInputEmail1">
                <span class="text-danger">@ViewBag.ktGia</span>
            </div>

            <div class=" mb-3 mt-3">
                <label class="form-label">Số lượng</label>
                <input name="soluong" type="number" class="form-control" id="exampleInputEmail1">
                <span class="text-danger">@ViewBag.ktSoLuong</span>
            </div>

            <div class=" mb-3 mt-3">
                <label class="form-label">Kích thước</label>
                <input name="kichthuoc" type="number" class="form-control" id="exampleInputEmail1">
                <span class="text-danger">@ViewBag.ktKichThuoc</span>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3 mt-3">
                    <label class="form-label">Ngày sản xuất</label>
                    <input name="ngaysanxuat" type="date" class="form-control" id="datepicker">
                    <span class="text-danger">@ViewBag.ktNgay</span>
                    <span class="text-danger">@ViewBag.ktTrongNgay</span>
                </div>

                <div class="col-md-6 mb-3 mt-3">
                    <label class="form-label">Hạn sử dụng</label>
                    <input name="hansudung" type="date" class="form-control">
                    <span class="text-danger">@ViewBag.ktTrongNgay</span>
                </div>

            </div>

            <br />
            <button type="submit" class="btn btn-primary">Thêm</button>
            <a asp-controller="QLSanPham" asp-action="Index" class="btn btn-primary">Trở về</a>
        </div>
    </form>
</div>
@section Scripts {
    <script>
        function previewFile() {
            var preview = document.getElementById('previewImage');
            var file = document.querySelector('input[type=file]').files[0];
            var reader = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
                preview.style.maxWidth = "80px";
                preview.style.maxHeight = "80px";

            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
            }
        }


    </script>
    <script>
        $(function () {
            $("#datepicker").datepicker({
                dateFormat: "dd/mm/yy",
                changeMonth: true,
                changeYear: true,
                yearRange: "-5:+5",
                showOn: "both"
            });
        });
    </script>
}

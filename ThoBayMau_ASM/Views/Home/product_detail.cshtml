@model IEnumerable<SanPham>

@{
	ViewData["Title"] = "Details";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
	.carousel-control-prev, .carousel-control-next {
		background-color: transparent;
		color: black;
		border: none;
		padding: 0;
		font-size: 20px;
	}

	.carousel-control-prev:hover, .carousel-control-next:hover {
		color: black;
	}

	#small-img {
		position: initial
	}

	#small-img a {
		border: 0.5px solid gray;
		padding: 0;
	}

	#small-img a:hover {
		border: 1px solid red;
	}

	.form-check-label {
		color: black;
	}

	.ftco-section{
		padding-bottom:0;
	}

	.list-group-item {
		border: 0px;
	}
</style>

<section class="ftco-section">
	<div class="container">
		@foreach (var item in Model)
		{
			<div class="row">
				<div class="col-lg-6 mb-5 ftco-animate">
					<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="true">
						<div class="carousel-inner">
							<div class="carousel-item active">
								<img src="@Url.Action("GetImage", "Home", new { id_sp = @item.Id})" class="d-block w-100" alt="...">
							</div>
							
						</div>
						<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
							<i class="bi bi-caret-left-fill"></i>
						</button>
						<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
							<i class="bi bi-caret-right-fill"></i>
						</button>
						<div class="carousel-indicators justify-content-sm-around" id="small-img">
							@foreach (var img in item?.Anhs)
							{
								<a data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"><img src="@Url.Action("GetImage", "Home", new { id_hinh = @img.Id})" style="width:100px;" alt="..."></a>
							}
							@* <a data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"><img src="~/vega/pro_images/1_2b07728470ac48888e65cc4d13efc298_master.jpg" style="width:100px;" alt="..."></a>
							<a data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"><img src="~/vega/pro_images/1_42eb4e7ac2d04669886a51c96cd766a6_master.jpg" style="width:100px;" alt="..."></a>
							<a data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"><img src="~/vega/pro_images/1_a2bff92357c949beae6cc690ccfd1897_master.png" style="width:100px;" alt="..."></a> *@
						</div>
					</div>
				</div>
				<div class="col-lg-6 product-details pl-md-5 ftco-animate">
					<h3>@item.Ten</h3>
					@foreach (var ct_sp in item?.ChiTietSPs)
					{
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="Radio" value="@ct_sp.KichThuoc" onchange="showPrice('@ct_sp.KichThuoc')">
							<label class="form-check-label fw-bold">@(ct_sp.KichThuoc)KG</label>
						</div>
					}
					<br />
					@foreach (var ct_sp in item?.ChiTietSPs)
					{

						<p id="@ct_sp.KichThuoc" class="price m-0" style="display: none"><span>@(ct_sp.Gia.ToString("#,0", System.Globalization.CultureInfo.GetCultureInfo("vi-VN")))đ</span></p>
					}
					<div class="row align-items-center">
						<div class="input-group col-md-6 d-flex">
							<span class="input-group-btn mr-2">
								<button type="button" class="quantity-left-minus btn" data-type="minus" data-field="">
									<i class="ion-ios-remove"></i>
								</button>
							</span>
							<input style="max-width:80px;" type="text" id="quantity" name="quantity" class="form-control input-number" value="1" min="1" max="100">
							<span class="input-group-btn ml-2">
								<button type="button" class="quantity-right-plus btn" data-type="plus" data-field="">
									<i class="ion-ios-add"></i>
								</button>
							</span>
						</div>
						<div class="col-md-6">
							<a href="cart.html" class="btn btn-black py-3 px-5">Mua ngay</a>
						</div>
					</div>
					<div class="mt-4">
						@item.Mota
					</div>
					<div class="product-service mt-3">
						<ul class="infoList-service list-group" style="font-size: 13px;">
							<li class="list-group-item">
								<span>
									<img src="//theme.hstatic.net/1000356051/1001056962/14/product_deliverly_1_icons.png?v=355" alt="Cam kết 100% chính hãng">
								</span>
								Cam kết 100% chính hãng
							</li>
							<li class="list-group-item">
								<span>
									<img src="//theme.hstatic.net/1000356051/1001056962/14/product_deliverly_2_icons.png?v=355" alt="Miễn phí vận chuyển
									 Trong 60 phút tại TP Buôn Ma Thuột với đơn hàng>599k

								Giao hàng toàn quốc từ 1-2 ngày">
								</span>
								Miễn phí vận chuyển
								<br>
								Trong 60 phút tại TP Buôn Ma Thuột với đơn hàng &gt;599k

							</li>
							<li class="list-group-item">
								<span>
									<img src="//theme.hstatic.net/1000356051/1001056962/14/product_deliverly_3_icons.png?v=355" alt="Đổi sản phẩm nhanh trong 24h">
								</span>
								Đổi sản phẩm nhanh trong 24h
							</li>
						</ul>
					</div>
				</div>
			</div>
		}
		
	</div>
</section>

<section class="ftco-section">
	<div class="container">
		<div class="row justify-content-center mb-3 pb-3">
			<div class="col-md-12 heading-section text-center ftco-animate">
				<h2 class="mb-4">Sản Phẩm liên quan</h2>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-md-6 col-lg-3 ftco-animate">
				<div class="product">
					<a href="#" class="img-prod">
						<img class="img-fluid" src="~/vega/pro_images/1_2b07728470ac48888e65cc4d13efc298_master.jpg" alt="Colorlib Template">
						@* <span class="status">30%</span> *@
						<div class="overlay"></div>
					</a>
					<div class="text py-3 pb-4 px-3 text-center">
						<h3><a href="#">Bell Pepper</a></h3>
						<div class="d-flex">
							<div class="pricing">
								<p class="price"><span class="mr-2 price-dc">$120.00</span><span class="price-sale">$80.00</span></p>
							</div>
						</div>
						<div class="bottom-area d-flex px-3">
							<div class="m-auto d-flex">
								<a href="#" class="add-to-cart d-flex justify-content-center align-items-center text-center">
									<span><i class="ion-ios-menu"></i></span>
								</a>
								<a href="#" class="buy-now d-flex justify-content-center align-items-center mx-1">
									<span><i class="ion-ios-cart"></i></span>
								</a>
								<a href="#" class="heart d-flex justify-content-center align-items-center ">
									<span><i class="ion-ios-heart"></i></span>
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<script>
	document.addEventListener("DOMContentLoaded", function () {
		var minusButton = document.querySelector('.quantity-left-minus');
		var plusButton = document.querySelector('.quantity-right-plus');
		var quantityInput = document.getElementById('quantity');

		minusButton.addEventListener('click', function () {
			var currentValue = parseInt(quantityInput.value);
			if (currentValue > 1) {
				quantityInput.value = currentValue - 1;
			}
		});

		plusButton.addEventListener('click', function () {
			var currentValue = parseInt(quantityInput.value);
			quantityInput.value = currentValue + 1;
		});
	});
	function showPrice(kt) {
		// Ẩn tất cả các span chứa giá
		var prices = document.querySelectorAll('p.price');
		for (var i = 0; i < prices.length; i++) {
			prices[i].style.display = 'none';
		}

		// Hiển thị giá của kích thước được chọn
		document.getElementById(kt).style.display = 'inline';
	}
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>